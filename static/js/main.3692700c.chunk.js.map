{"version":3,"sources":["util/playNote.tsx","Header.tsx","util/toABC.tsx","common/noteConfig.tsx","consoleKeyEnter.tsx","common/keyCode.tsx","consoleMode.tsx","useReceiveKeyEnter.tsx","useWindowDimentions.tsx","pianoMode.tsx","typiano-top.png","Top.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["audio","headerStyles","display","arignItems","width","height","backgroundColor","color","fontFamily","fontSize","padding","Header","toTop","style","src","alt","cursor","onClick","play","node","sec","ended","pause","currentTime","Hz","bytes","Uint8Array","Math","floor","header","fp","length","parseInt","substr","octave","phase","t","sin","setLittleEndian","str","i","String","fromCharCode","Audio","btoa","p","data","playNote","noteName","counter","toABC","beforeNote","lengthCounter","afterNote","toLowerCase","repeat","toString","console","log","noteLength","useConsoleKeyEnter","useState","noteStr","setNoteStr","setNoteABCStr","noteStrHist","setNoteStrHist","noteABCStrHist","setNoteABCStrHist","tmpNoteStr","tmpNoteABCStr","noteTypeArray","wait","Promise","resolve","reject","setTimeout","useEffect","setFromNone","event","a","keyCode","pointer","octaveCounter","oneNote","includes","prev","beep_time","noteConfig","substring","document","addEventListener","removeEventListener","consoleBase","paddingRight","paddingLeft","paddingTop","paddingBottom","overflowY","consoleOn","animationName","animationDuration","animationFillMode","consoleOut","flash","animationIterationCount","ConsoleBlock","command","abc","commandId","scoreId","abcjs","renderAbc","id","ConsoleTab","inConsole","ConsoleMode","doRemove","nowString","commandHist","ABCHist","scrollBottomRef","useRef","list","push","current","scrollIntoView","ref","tmpCounter","tmpNowCounter","useReceiveKeyEnter","receivedKey","setReceivedKey","isSharp","setSharp","note","setNote","setCounter","nowCounter","setNowCounter","useWindowDimensions","getWindowDimensions","window","innerWidth","innerHeight","windowDimensions","setWindowDimensions","onResize","keyStyles","border","keyStylesOn","blackKeyStyles","marginLeft","marginRight","zIndex","blackKeyStylesOn","blackKeyHalfStyles","blackKeyHalfStylesOn","keyLong","position","bottom","transformOrigin","keyShort","WhiteKey","nowplay","BlackKey","last","styleOn","PianoBase","inPiano","keyNum","index","transform","marginBottom","boxShadow","PianoMode","noteList","setNoteList","tone","playStartIndex","playEndIndex","playable","addTone","prevNoteList","className","top","left","margin","headerPictureStyles","backgroundImage","topImage","backgroundSize","flexDirection","justifyContent","background","varticalAlign","textAlign","Top","piano","App","showMain","setShowMain","showConsole","setShowConsole","finShowConsole","setFinShowConsole","showPiano","setShowPiano","finShowPiano","setFinShowPiano","toConsole","toPiano","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3692700c.chunk.js","sourcesContent":["import sleep from \"./sleep\";\n\n// 音を鳴らす関数\nconst bpm = 120\nconst duration = (60000 / bpm) / 2 * 20\n\nvar audio:any;\n\nfunction play(node:any,sec:any){\n    stop();\n    if(node>=96)return;\n\n    const Hz=11025;//サンプリングレート\n\n    //Waveデータ\n    var bytes=new Uint8Array(Math.floor(Hz*sec)+100);\n    //Waveヘッダー作成\n    var header=\"524946460000000057415645666D74201000000001000100112B0000112B0000010008006461746100000000\";\n    var fp = 0\n    while (fp < header.length/2){\n      bytes[fp]=parseInt(header.substr(fp*2,2),16);\n      fp += 1;\n    }\n\n    //音階(ドド#レ…シ)の周波数(1オクターブ下がると1/2倍)\n    var freqs=[4180, 4428, 4708, 4968, 5264, 5592, 5884, 6300, 6676, 6988, 7476, 7848];\n\n    //1サンプルあたりの位相計算\n    const octave = Math.floor(node/12); //オクターブ\n    const freq = freqs[node%12] / (1<<(7-octave)); //周波数\n    const phase = 6.28 / (Hz / freq);\n\n    //波形作成\n    for (let t = 0; t < Math.floor(Hz*sec); t++){\n        bytes[fp++] = Math.floor(Math.sin(phase*t)*127)+128;\n    }\n\n    //データ補正\n    setLittleEndian(bytes,4,fp-8);  //ファイルサイズ\n    setLittleEndian(bytes,24,Hz);   //サンプリングレート\n    setLittleEndian(bytes,40,fp-44);//波形サイズ\n\n    //BASE64変換してオーディオ作成\n    var str=\"\";\n    for (let i=0;i<fp;i++){str+=String.fromCharCode(bytes[i]);}\n    audio=new Audio(\"data:audio/wav;base64,\"+btoa(str));\n    audio.play();\n}\n\nfunction stop(){\n    if (audio&&!audio.ended){\n      audio.pause();audio.currentTime=0;\n    }\n}\nfunction setLittleEndian(bytes:any,p:any,data:any){\n    bytes[p] = (data & 0xFF);\n    bytes[p+1] = ((data >> 8) & 0xFF);\n    bytes[p+2] = ((data >> 16) & 0xFF);\n    bytes[p+3] = ((data >> 24) & 0xFF);\n}\n\n// どの音を鳴らすか\nfunction　playNote(noteName: string, counter: number, sec: number){\n    if (noteName === \"do\") {\n        play(48+counter*12, sec);\n    } else if (noteName == \"#do\") {\n        play(49+counter*12, sec);\n    } else if (noteName === \"re\") {\n        play(50+counter*12, sec);\n    } else if (noteName === \"#re\") {\n        play(51+counter*12, sec);\n    } else if (noteName === \"mi\") {\n        play(52+counter*12, sec);\n    } else if (noteName === \"fa\") {\n        play(53+counter*12, sec);\n    } else if (noteName === \"#fa\") {\n        play(54+counter*12, sec);\n    } else if (noteName === \"so\") {\n        play(55+counter*12, sec);\n    } else if (noteName === \"#so\") {\n        play(56+counter*12, sec);\n    } else if (noteName === \"ra\") {\n        play(57+counter*12, sec);\n    } else if (noteName === \"#ra\") {\n        play(58+counter*12, sec);\n    } else if (noteName === \"shi\") {\n        play(59+counter*12, sec);\n    }\n}\n\nexport default playNote;","import React from \"react\";\n\nconst headerStyles = {\n  display: \"flex\",\n  arignItems: \"center\",\n  width: \"100%\",\n  height: 40,\n  backgroundColor: \"#C6F7C7\",\n  color: \"#243324\",\n  fontFamily: \"Alex Brush, cursive\",\n  fontSize: 22,\n  padding: 10,\n};\n\nconst Header: React.FC<{ toTop: () => void }> = ({ toTop }) => {\n  return (\n    <div style={headerStyles}>\n      <img\n        src=\"/icon.png\"\n        alt=\"\"\n        style={{ height: 35, cursor: \"pointer\" }}\n        onClick={toTop}\n      ></img>\n      <span style={{ cursor: \"pointer\" }} onClick={toTop}>\n        TyPiano\n      </span>\n    </div>\n  );\n};\n\nexport default Header;\n","// 音をアルファベットに直す関数\nfunction toABC(beforeNote: string,counter:number, lengthCounter:number) {\n  var afterNote = \"\";\n  if (beforeNote === \"do\") {\n    afterNote += \"C\";\n  } else if (beforeNote === \"#do\") {\n    afterNote += \"^C\"\n  } else if (beforeNote === \"re\") {\n    afterNote += \"D\";\n  } else if (beforeNote === \"#re\") {\n    afterNote += \"^D\";\n  } else if (beforeNote === \"mi\") {\n    afterNote += \"E\";\n  } else if (beforeNote === \"fa\") {\n    afterNote += \"F\";\n  } else if (beforeNote === \"#fa\") {\n    afterNote += \"^F\";\n  } else if (beforeNote === \"so\") {\n    afterNote += \"G\";\n  } else if (beforeNote === \"#so\") {\n    afterNote += \"^G\";\n  } else if (beforeNote === \"ra\") {\n    afterNote += \"A\";\n  } else if (beforeNote === \"#ra\") {\n    afterNote += \"^A\";\n  } else if (beforeNote === \"shi\") {\n    afterNote += \"B\";\n  } else if (beforeNote === \" \") {\n    afterNote += \"z\";\n  } else {\n    if (beforeNote[1] == \"/\") {\n\n    }\n  }\n  if (counter == 1){\n    afterNote = afterNote.toLowerCase();\n  } else if (counter > 1){\n    afterNote = afterNote.toLowerCase();\n    afterNote += \"\\'\".repeat(counter);\n  } else if (counter < 0){\n    afterNote += \",\".repeat(-counter);\n  } \n  if (lengthCounter > 0) {\n    afterNote += (2**lengthCounter).toString();\n  } else if (lengthCounter < 0) {\n    afterNote += \"1/\"+(2**(-1*lengthCounter)).toString();\n  }\n  console.log(afterNote)\n  return afterNote\n}\n\nexport default toABC;","export const bpm = 120;\nexport const duration = 60000 / bpm / 2;\n\n// 休みの長さ\nexport const restLength = 60/bpm/2;\n\n// 一音の長さ\nexport const noteLength = 60/bpm;","import React, { useState, useEffect } from \"react\";\nimport playNote from \"./util/playNote\";\nimport toABC from \"./util/toABC\";\nimport * as keyCodeList from \"./common/keyCode\";\nimport * as noteConfig from \"./common/noteConfig\"\n\nconst useConsoleKeyEnter = (): [string, string[], string[]] => {\n  // 今のドレミ\n  const [noteStr, setNoteStr] = useState<string>(\"\");\n  // 今のABC\n  const [noteABCStr, setNoteABCStr] = useState<string>(\"\");\n  // 今までのドレミを保持する配列\n  const [noteStrHist, setNoteStrHist] = useState<string[]>([]);\n  // 今までのABCを保持する配列\n  const [noteABCStrHist, setNoteABCStrHist] = useState<string[]>([]);\n\n  var tmpNoteStr = \"\";\n  var tmpNoteABCStr = \"\";\n  var noteTypeArray = [\"do\", \"re\", \"mi\", \"fa\", \"so\", \"ra\", \"shi\", \"#do\", \"#re\", \"#fa\", \"#so\", \"#ra\", \" \"];\n\n  const wait = (sec: any) => {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, sec * 1000);\n      //setTimeout(() => {reject(new Error(\"エラー！\"))}, sec*1000);\n    });\n  };\n\n  useEffect(() => {\n    async function setFromNone(event: { keyCode: number | Number }) {\n      const keyCode = event.keyCode;\n      if (keyCode === keyCodeList.enter_code) {\n        var pointer = 0;\n        var octaveCounter = 0;\n        var lengthCounter = 0;\n        while (pointer + 1 < tmpNoteStr.length) {\n          if (tmpNoteStr[pointer] === \",\") {\n            octaveCounter -= 1;\n            pointer += 1;\n            continue;\n          } else if (tmpNoteStr[pointer] === \".\") {\n            octaveCounter += 1;\n            pointer += 1;\n            continue;\n          } else if (tmpNoteStr[pointer] === \"+\") {\n            pointer += 1;\n            lengthCounter += 1;\n            continue;\n          } else if (tmpNoteStr[pointer] === \"-\") {\n            pointer += 1;\n            lengthCounter -= 1;\n            continue;\n          }\n          var oneNote = tmpNoteStr.substr(pointer, 2);\n          if (oneNote === \"sh\" || oneNote[0] === \"#\") {\n            oneNote += tmpNoteStr[pointer + 2];\n            pointer += 3;\n          } else if (oneNote[0] === \" \") {\n            pointer += 1;\n            oneNote = \" \"\n          } else {\n            pointer += 2;\n          }\n          if (noteTypeArray.includes(oneNote)) {\n            tmpNoteABCStr += toABC(oneNote, octaveCounter, lengthCounter);\n            octaveCounter = 0;\n            lengthCounter = 0;\n            // setNoteABCStr(tmpNoteABCStr)\n          } else {\n            pointer -= 1\n          }\n        }\n        // ドレミとABCを配列に入れる\n        setNoteStrHist((prev) => [...prev, tmpNoteStr]);\n        setNoteABCStrHist((prev) => [...prev, tmpNoteABCStr]);\n\n        setNoteStr(\"\");\n        setNoteABCStr(\"\");\n\n        // 音鳴らすための処理\n        pointer = 0;\n        octaveCounter = 0;\n        while (pointer + 1 < tmpNoteStr.length) {\n        　if (tmpNoteStr[pointer] === \",\") {\n            octaveCounter -= 1;\n            pointer += 1;\n            continue;\n        　} else if (tmpNoteStr[pointer] === \".\") {\n            octaveCounter += 1;\n            pointer += 1;\n            continue;\n        　} else if (tmpNoteStr[pointer] === \"+\") {\n            pointer += 1;\n            lengthCounter += 1;\n            continue;\n          } else if (tmpNoteStr[pointer] === \"-\") {\n            pointer += 1;\n            lengthCounter -= 1;\n            continue;\n          }\n          oneNote = tmpNoteStr.substr(pointer, 2);\n          if (oneNote === \"sh\" || oneNote[0] === \"#\") {\n              oneNote += tmpNoteStr[pointer + 2];\n              pointer += 3;\n          } else if (oneNote[0] === \" \") {\n              pointer += 1;\n              oneNote = \" \"\n            } else {\n              pointer += 2;\n          }\n          if (noteTypeArray.includes(oneNote)) {\n              if (oneNote === \" \") {\n                  await wait(noteConfig.restLength);\n              } else {\n                  var beep_time = noteConfig.noteLength;\n                  if (lengthCounter > 0) {\n                    beep_time = beep_time * (2*lengthCounter);\n                  } else if (lengthCounter < 0) {\n                    beep_time = beep_time / (-2*lengthCounter);\n                  }\n                  playNote(oneNote,octaveCounter,beep_time)\n                  octaveCounter = 0;\n                  lengthCounter = 0\n                  await wait(beep_time);\n              }\n          } else { // ミスタイプのとき\n              pointer -= 1\n          }\n        }\n        tmpNoteStr = \"\";\n        tmpNoteABCStr = \"\";\n      } else if (keyCode === keyCodeList.d_code) {\n        tmpNoteStr += \"d\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.r_code) {\n        tmpNoteStr += \"r\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.m_code) {\n        tmpNoteStr += \"m\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.f_code) {\n        tmpNoteStr += \"f\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.s_code) {\n        tmpNoteStr += \"s\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.h_code) {\n        tmpNoteStr += \"h\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.o_code) {\n        tmpNoteStr += \"o\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.e_code) {\n        tmpNoteStr += \"e\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.i_code) {\n        tmpNoteStr += \"i\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.a_code) {\n        tmpNoteStr += \"a\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.sharp_code) {\n        tmpNoteStr += \"#\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.upOctave_code) {\n        tmpNoteStr += \".\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.downOctave_code) {\n        tmpNoteStr += \",\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.space_code) {\n        tmpNoteStr += \" \";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === 187) {\n        tmpNoteStr += \"+\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === 189) {\n        tmpNoteStr += \"-\";\n        setNoteStr(tmpNoteStr);\n      } else if (keyCode === keyCodeList.backspace_code || keyCode === keyCodeList.delete_code) {\n        tmpNoteStr = tmpNoteStr.substring(0, tmpNoteStr.length-1);\n        setNoteStr(tmpNoteStr);\n      } else {\n        // setReceivedKey(\"none\");\n      }\n    }\n\n    document.addEventListener(\"keydown\", setFromNone);\n    return () => {\n      document.removeEventListener(\"keydown\", setFromNone);\n    };\n  }, [noteStrHist, noteABCStrHist]);\n\n  return [noteStr, noteStrHist, noteABCStrHist];\n};\n\nexport default useConsoleKeyEnter;\n","export const d_code = 68;\nexport const o_code = 79;\nexport const e_code = 69;\nexport const r_code = 82;\nexport const m_code = 77;\nexport const i_code = 73;\nexport const f_code = 70;\nexport const a_code = 65;\nexport const s_code = 83;\nexport const h_code = 72;\nexport const enter_code = 13;\nexport const sharp_code = 51;\nexport const upOctave_code = 190;\nexport const downOctave_code = 188;\nexport const space_code = 32;\nexport const backspace_code = 8;\nexport const delete_code = 46;","import React, { ReactElement, useEffect, useRef } from \"react\";\nimport abcjs from \"abcjs\";\nimport useConsoleKeyEnter from \"./consoleKeyEnter\";\nimport \"./slide.css\";\nimport \"./flash.css\";\n\nconst consoleBase = {\n  backgroundColor: \"#041344\",\n  color: \"#FFFFFF\",\n  height: \"30px\",\n  paddingRight: 20,\n  paddingLeft: 20,\n  paddingTop: 10,\n  paddingBottom: 5,\n  overflowY: \"scroll\" as \"scroll\",\n};\n\nconst consoleOn = {\n  ...consoleBase,\n  animationName: \"slide-in\",\n  animationDuration: \"2s\",\n  animationFillMode: \"forwards\",\n};\n\nconst consoleOut = {\n  ...consoleBase,\n  animationName: \"slide-out\",\n  animationDuration: \"2s\",\n  animationFillMode: \"forwards\",\n};\n\nconst flash = {\n  animationName: \"flash\",\n  animationDuration: \"1s\",\n  animationIterationCount: \"infinite\",\n};\n\nconst ConsoleBlock: React.FC<{ command: string; abc: string; i: number }> = ({\n  command,\n  abc,\n  i,\n}) => {\n  const commandId = \"command\" + String(i);\n  const scoreId = \"score\" + String(i);\n\n  abcjs.renderAbc(scoreId, abc);\n\n  return (\n    <div>\n      <p key={commandId}>\n        <span style={{ color: \"#09f80d\" }}>[admin@typiano]$</span> {command}\n      </p>\n      <div id={scoreId} key={scoreId}></div>\n    </div>\n  );\n};\n\nexport const ConsoleMode: React.FC<{ doRemove: boolean }> = ({ doRemove }) => {\n  // [[\"doremi\", \"remifa\"], [\"CDE\", \"EFG\"], \"dor\"のイメージ\n  const [nowString, commandHist, ABCHist] = useConsoleKeyEnter();\n\n  const scrollBottomRef = useRef<HTMLDivElement>(null);\n\n  // 画面に表示するもの\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const list: ReactElement[] = [];\n\n  // 今までの履歴をデザインに変えている\n  for (let i = 0; i < ABCHist.length; i++) {\n    // ConsoleBlockは、$doremiと五線譜のブロック\n    // commandは$doremiに使う\n    // abcは五線譜に使う\n    // iはidとかなので気にしなくていい\n    list.push(\n      <ConsoleBlock\n        command={commandHist[i]}\n        abc={ABCHist[i]}\n        i={i}\n      ></ConsoleBlock>\n    );\n  }\n\n  useEffect(() => {\n    scrollBottomRef?.current?.scrollIntoView(false);\n  }, [list]);\n\n  // 履歴と、一番下に今のやつを表示\n  return (\n    <div>\n      <div key=\"c\" style={doRemove ? consoleOut : consoleOn}>\n        {list}\n        <p>\n          <span style={{ color: \"#09f80d\" }}>[admin@typiano]$</span> {nowString}\n          <span style={flash}>|</span>\n        </p>\n        <div ref={scrollBottomRef}></div>\n      </div>\n    </div>\n  );\n};\n\nexport const ConsoleTab: React.FC<{ inConsole: boolean }> = ({ inConsole }) => {\n  return <div style={consoleBase}>{!inConsole && \"コンソールモードへ\"}</div>;\n};\n\nexport default ConsoleMode;\n","import { useState, useEffect } from \"react\";\nimport playNote from \"./util/playNote\";\nimport * as keyCodeList from \"./common/keyCode\";\nimport * as noteConfig from \"./common/noteConfig\"\n\ntype nowGotted = \"d\" | \"r\" | \"m\" | \"f\" | \"s\" | \"sh\" | \"#d\" | \"#r\" | \"#f\" | \"#s\" | \"none\";\ntype note = \"do\" | \"re\" | \"mi\" | \"fa\" | \"so\" | \"ra\" | \"shi\" | \"#do\" | \"#re\" | \"#fa\" | \"#so\" | \"#ra\" | \"none\" ;\n\nvar tmpCounter = 0\nvar tmpNowCounter = 0\n\nconst useReceiveKeyEnter = (): [note,number] => {\n  const [receivedKey, setReceivedKey] = useState<nowGotted>(\"none\");\n  const [isSharp , setSharp] = useState(false);\n  const [note, setNote] = useState<note>(\"none\");\n  const [counter, setCounter] = useState<number>(0);\n  const [nowCounter, setNowCounter] = useState(0);\n\n  useEffect(() => {\n    function setFromNone(event: { keyCode: number | Number }) {\n      const keyCode = event.keyCode;\n      setNote(\"none\");\n      var oneNote = \"\"\n\n      if (keyCode === keyCodeList.sharp_code) {\n        setSharp(true);\n      } else if (keyCode === keyCodeList.downOctave_code) {\n        tmpCounter -= 1\n        setCounter(tmpCounter);\n      } else if (keyCode === keyCodeList.upOctave_code) {\n        tmpCounter += 1\n        setCounter(tmpCounter)\n      } else if (keyCode === keyCodeList.d_code) {\n        if (isSharp) {\n          setReceivedKey(\"#d\");\n        } else{\n          setReceivedKey(\"d\");\n        }\n      } else if (keyCode === keyCodeList.r_code) {\n        if (isSharp) {\n          setReceivedKey(\"#r\");\n        } else{\n          setReceivedKey(\"r\");\n        }\n      } else if (keyCode === keyCodeList.m_code) {\n        setReceivedKey(\"m\");\n      } else if (keyCode === keyCodeList.f_code) {\n        if (isSharp){\n          setReceivedKey(\"#f\");\n        } else{\n          setReceivedKey(\"f\");\n        }\n      } else if (keyCode === keyCodeList.s_code) {\n        if (isSharp) {\n          setReceivedKey(\"#s\");\n        } else{\n          setReceivedKey(\"s\");\n        }\n      } else if (keyCode === keyCodeList.h_code && receivedKey === \"s\") {\n        setReceivedKey(\"sh\");\n      } else if (keyCode === keyCodeList.o_code && receivedKey === \"d\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        if (isSharp){\n          setNote(\"#do\");\n          oneNote = \"#do\"\n          setSharp(false);\n        } else{\n          setNote(\"do\");\n          oneNote = \"do\"\n        }\n        playNote(oneNote,tmpNowCounter, noteConfig.noteLength);\n        setReceivedKey(\"none\");\n      } else if (keyCode === keyCodeList.o_code && receivedKey === \"s\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        if (isSharp){\n          setNote(\"#so\");\n          oneNote = \"#so\"\n          setSharp(false);\n        } else{\n          setNote(\"so\");\n          oneNote = \"so\"\n        }\n        playNote(oneNote, tmpNowCounter, noteConfig.noteLength);\n        setReceivedKey(\"none\");\n      } else if (keyCode === keyCodeList.e_code && receivedKey === \"r\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        if (isSharp){\n          setNote(\"#re\");\n          oneNote = \"#re\"\n          setSharp(false);\n        } else{\n          setNote(\"re\");\n          oneNote = \"re\"\n        }\n        playNote(oneNote, tmpNowCounter, noteConfig.noteLength)\n        setReceivedKey(\"none\");\n      } else if (keyCode === keyCodeList.i_code && receivedKey === \"m\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        setSharp(false);\n        setNote(\"mi\");\n        oneNote = \"mi\"\n        playNote(oneNote, tmpNowCounter, noteConfig.noteLength);\n        setReceivedKey(\"none\");\n      } else if (keyCode === keyCodeList.i_code && receivedKey === \"sh\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        setSharp(false);\n        setNote(\"shi\");\n        oneNote = \"shi\"\n        playNote(oneNote, tmpNowCounter, noteConfig.noteLength);\n        setReceivedKey(\"none\");\n      } else if (keyCode === keyCodeList.a_code && receivedKey === \"f\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        if (isSharp){\n          setNote(\"#fa\");\n          oneNote = \"#fa\"\n          setSharp(false);\n        } else{\n          setNote(\"fa\");\n          oneNote = \"fa\"\n        }\n        playNote(oneNote, tmpNowCounter, noteConfig.noteLength);\n        setReceivedKey(\"none\");\n      } else if (keyCode === keyCodeList.a_code && receivedKey === \"r\") {\n        tmpNowCounter = tmpCounter\n        setNowCounter(tmpNowCounter);\n        tmpCounter = 0\n        setCounter(tmpCounter);\n        if (isSharp){\n          setNote(\"#ra\");\n          oneNote = \"#ra\"\n          setSharp(false);\n        } else{\n          setNote(\"ra\");\n          oneNote = \"ra\"\n        }\n        playNote(oneNote, tmpNowCounter, noteConfig.noteLength);\n        setReceivedKey(\"none\");\n      } else {\n        setReceivedKey(\"none\");\n        tmpCounter = 0\n        setCounter(tmpCounter);\n      }\n    }\n\n    document.addEventListener(\"keydown\", setFromNone);\n    return () => {\n      document.removeEventListener(\"keydown\", setFromNone);\n    };\n  }, [receivedKey]);\n  return [note, nowCounter];\n};\n\nexport default useReceiveKeyEnter;\n","import { useState, useEffect } from \"react\";\n\nexport const useWindowDimensions = () => {\n  const getWindowDimensions = () => {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n      width,\n      height,\n    };\n  };\n\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n  useEffect(() => {\n    const onResize = () => {\n      setWindowDimensions(getWindowDimensions());\n    };\n    window.addEventListener(\"resize\", onResize);\n    return () => window.removeEventListener(\"resize\", onResize);\n  }, []);\n  return windowDimensions;\n};\n","import React, { useEffect, useState } from \"react\";\nimport useReceiveKeyEnter from \"./useReceiveKeyEnter\";\nimport { useWindowDimensions } from \"./useWindowDimentions\";\nimport abcjs from \"abcjs\";\nimport toABC from \"./util/toABC\";\nimport \"./slide.css\";\n\nconst keyStyles = {\n  height: 300,\n  width: 64,\n  backgroundColor: \"#F5FCFF\",\n  border: \"1px solid black\",\n};\n\nconst keyStylesOn = {\n  ...keyStyles,\n  backgroundColor: \"#adefde\",\n};\n\nconst blackKeyStyles = {\n  height: 150,\n  width: 32,\n  backgroundColor: \"black\",\n  border: \"1px solid black\",\n  marginLeft: -17,\n  marginRight: -17,\n  zIndex: 1,\n};\n\nconst blackKeyStylesOn = {\n  ...blackKeyStyles,\n  backgroundColor: \"#aaabcb\",\n};\n\nconst blackKeyHalfStyles = {\n  height: 150,\n  width: 16,\n  backgroundColor: \"black\",\n  border: \"1px solid black\",\n  marginLeft: -17,\n  marginRight: 0,\n  zIndex: 1,\n};\n\nconst blackKeyHalfStylesOn = {\n  ...blackKeyHalfStyles,\n  backgroundColor: \"#aaabcb\",\n};\n\nconst keyLong = {\n  position: \"fixed\" as \"fixed\",\n  bottom: 0,\n  transformOrigin: \"bottom\",\n  animationName: \"to-long\",\n  animationDuration: \"2s\",\n  animationFillMode: \"forwards\",\n};\n\nconst keyShort = {\n  position: \"fixed\" as \"fixed\",\n  bottom: 0,\n  transformOrigin: \"bottom\",\n  animationName: \"to-short\",\n  animationDuration: \"2s\",\n  animationFillMode: \"forwards\",\n};\n\nconst WhiteKey: React.FC<{ nowplay: boolean }> = ({ nowplay }) => {\n  return <div style={nowplay ? keyStylesOn : keyStyles}></div>;\n};\n\nconst BlackKey: React.FC<{ nowplay: boolean; last: boolean }> = ({\n  nowplay,\n  last,\n}) => {\n  const style = last ? blackKeyHalfStyles : blackKeyStyles;\n  const styleOn = last ? blackKeyHalfStylesOn : blackKeyStylesOn;\n  return <div style={nowplay ? styleOn : style}></div>;\n};\n\nconst PianoMode: React.FC<{ doRemove: boolean }> = ({ doRemove }) => {\n  const [noteList, setNoteList] = useState<string>(\"\");\n\n  const windowDimensions = useWindowDimensions();\n  const keyNum = Math.floor(windowDimensions.width / 65);\n  const [tone, counter] = useReceiveKeyEnter();\n\n  const list = [];\n\n  // どこから有効キーにするか\n  const playStartIndex = Math.floor(keyNum / 7 / 2) * 7;\n  // どこまで有効キーにするか\n  const playEndIndex = playStartIndex + 7;\n\n  //鍵盤作成\n  for (let index = 0; index < keyNum; index++) {\n    const playable = index >= playStartIndex && index < playEndIndex;\n    switch (index % 7) {\n      case 0:\n        list.push(\n          <WhiteKey\n            key={index}\n            nowplay={playable && !doRemove ? tone === \"do\" : false}\n          />\n        );\n        list.push(\n          <BlackKey\n            key={index + 0.5}\n            last={index === keyNum - 1}\n            nowplay={playable && !doRemove ? tone === \"#do\" : false}\n          />\n        );\n        break;\n      case 1:\n        list.push(\n          <WhiteKey\n            key={index}\n            nowplay={playable && !doRemove ? tone === \"re\" : false}\n          />\n        );\n        list.push(\n          <BlackKey\n            key={index + 0.5}\n            last={index === keyNum - 1}\n            nowplay={playable && !doRemove ? tone === \"#re\" : false}\n          />\n        );\n        break;\n      case 2:\n        list.push(\n          <WhiteKey\n            key={index}\n            nowplay={playable && !doRemove ? tone === \"mi\" : false}\n          />\n        );\n        break;\n      case 3:\n        list.push(\n          <WhiteKey\n            key={index}\n            nowplay={playable && !doRemove ? tone === \"fa\" : false}\n          />\n        );\n        list.push(\n          <BlackKey\n            key={index + 0.5}\n            last={index === keyNum - 1}\n            nowplay={playable && !doRemove ? tone === \"#fa\" : false}\n          />\n        );\n        break;\n      case 4:\n        list.push(\n          <WhiteKey key={index} nowplay={playable ? tone === \"so\" : false} />\n        );\n        list.push(\n          <BlackKey\n            key={index + 0.5}\n            last={index === keyNum - 1}\n            nowplay={playable && !doRemove ? tone === \"#so\" : false}\n          />\n        );\n        break;\n      case 5:\n        list.push(\n          <WhiteKey\n            key={index}\n            nowplay={playable && !doRemove ? tone === \"ra\" : false}\n          />\n        );\n        list.push(\n          <BlackKey\n            key={index + 0.5}\n            last={index === keyNum - 1}\n            nowplay={playable && !doRemove ? tone === \"#ra\" : false}\n          />\n        );\n        break;\n      case 6:\n        list.push(\n          <WhiteKey\n            key={index}\n            nowplay={playable && !doRemove ? tone === \"shi\" : false}\n          />\n        );\n        break;\n      default:\n        break;\n    }\n  }\n\n  useEffect(() => {\n    var addTone = toABC(tone, counter, 0);\n    setNoteList((prevNoteList) => prevNoteList + addTone);\n  }, [tone]);\n  abcjs.renderAbc(\"abc\", noteList);\n\n  return (\n    <div style={doRemove ? keyShort : keyLong}>\n      <div className=\"score-stand\" style={{ position: \"relative\" }}>\n        <div\n          className=\"score-wrapper\"\n          style={{\n            position: \"absolute\",\n            top: -60,\n            left: \"10%\",\n            width: \"80%\",\n            height: 200,\n            padding: 10,\n            border: \"1px solid black\",\n            backgroundColor: \"white\",\n          }}\n        >\n          <div\n            id=\"abc\"\n            style={{\n              margin: \"30px 0\",\n            }}\n          ></div>\n        </div>\n        <div\n          style={{\n            backgroundColor: \"black\",\n            marginLeft: \"5%\",\n            width: \"90%\",\n            height: 120,\n            zIndex: -1,\n          }}\n        ></div>\n      </div>\n\n      <div\n        style={{ backgroundColor: \"black\", height: 100, width: \"100%\" }}\n      ></div>\n      <div style={{ display: \"flex\" }}>{list}</div>\n    </div>\n  );\n};\n\nexport const PianoBase: React.FC<{ inPiano: boolean }> = ({ inPiano }) => {\n  const windowDimensions = useWindowDimensions();\n  const keyNum = Math.floor(windowDimensions.width / 65);\n\n  const list = [];\n  for (let index = 0; index < keyNum - 1; index++) {\n    switch (index % 7) {\n      case 0:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        list.push(\n          <BlackKey\n            last={index === keyNum - 1}\n            key={index + 0.5}\n            nowplay={false}\n          />\n        );\n        break;\n      case 1:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        list.push(\n          <BlackKey\n            last={index === keyNum - 1}\n            key={index + 0.5}\n            nowplay={false}\n          />\n        );\n        break;\n      case 2:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        break;\n      case 3:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        list.push(\n          <BlackKey\n            last={index === keyNum - 1}\n            key={index + 0.5}\n            nowplay={false}\n          />\n        );\n        break;\n      case 4:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        list.push(\n          <BlackKey\n            last={index === keyNum - 1}\n            key={index + 0.5}\n            nowplay={false}\n          />\n        );\n        break;\n      case 5:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        list.push(\n          <BlackKey\n            last={index === keyNum - 1}\n            key={index + 0.5}\n            nowplay={false}\n          />\n        );\n        break;\n      case 6:\n        list.push(<WhiteKey key={index} nowplay={false} />);\n        break;\n      default:\n        break;\n    }\n  }\n  return (\n    <div>\n      <div\n        style={{\n          display: \"flex\",\n          transform: \"scaleY(0.2)\",\n          position: \"fixed\" as \"fixed\",\n          bottom: -121,\n          zIndex: -1,\n        }}\n      >\n        {list}\n      </div>\n      {!inPiano && (\n        <div\n          style={{\n            position: \"fixed\" as \"fixed\",\n            bottom: 0,\n            marginLeft: 20,\n            marginBottom: 7,\n            paddingLeft: 20,\n            paddingRight: 20,\n            paddingTop: 10,\n            paddingBottom: 10,\n            backgroundColor: \"#FFFFFF\",\n            boxShadow: \"0 0 10px 10px white\",\n          }}\n        >\n          ピアノモードへ\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PianoMode;\n","export default __webpack_public_path__ + \"static/media/typiano-top.f0c827b4.png\";","import React from \"react\";\nimport \"./button.css\";\nimport \"./Top.css\";\nimport topImage from '../src/typiano-top.png';\n\nconst headerPictureStyles = {\n  position: \"absolute\" as \"absolute\",\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  backgroundImage: `url(${topImage})`,\n  backgroundSize: \"cover\",\n};\nconst headerStyles = {\n  display: \"flex\",\n  flexDirection: \"column\" as \"column\",\n  justifyContent: \"center\",\n  position: \"absolute\" as \"absolute\",\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  background: \"rgba(0,0,0, 0.2)\",\n  color: \"#FFFFFF\",\n  fontFamily: \"Alex Brush, cursive\",\n  fontSize: 66,\n  zIndex: 5,\n  varticalAlign: \"center\",\n  textAlign: \"center\" as \"center\",\n};\n\nconst Top: React.FC<{ piano: () => void; console: () => void }> = ({\n  piano,\n  console,\n}) => {\n  return (\n    <div style={headerPictureStyles}>\n      <div style={headerStyles}>\n        <h1>TyPiano</h1>\n        <div className=\"iota\">\n          <button className=\"btn\" onClick={() => console()}>\n            <span>コンソールモード</span>\n          </button>\n          <button className=\"btn\" onClick={() => piano()}>\n            ピアノモード\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Top;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport ConsoleMode, { ConsoleTab } from \"./consoleMode\";\nimport PianoMode, { PianoBase } from \"./pianoMode\";\nimport Top from \"./Top\";\n\nfunction App() {\n  const [showMain, setShowMain] = useState<boolean>(false);\n  const [showConsole, setShowConsole] = useState<boolean>(true);\n  const [finShowConsole, setFinShowConsole] = useState<boolean>(false);\n  const [showPiano, setShowPiano] = useState<boolean>(true);\n  const [finShowPiano, setFinShowPiano] = useState<boolean>(false);\n\n  function toTop() {\n    setShowMain(false);\n  }\n\n  function toConsole() {\n    setShowMain(true);\n    // コンソールを広げる\n    setFinShowPiano(false);\n    setShowConsole(true);\n    // ピアノを縮める\n    setShowPiano(false);\n    // ピアノを縮め切ったら消す\n    setTimeout(() => {\n      setFinShowConsole(true);\n    }, 2000);\n  }\n  function toPiano() {\n    setShowMain(true);\n    // コンソールを縮める\n    setShowConsole(false);\n    setFinShowConsole(false);\n    // ピアノを広げる\n    setShowPiano(true);\n    // コンソールを縮め切ったら消す\n    setTimeout(() => {\n      setFinShowPiano(true);\n    }, 2000);\n  }\n  function handleClick() {\n    if (showConsole) {\n      toPiano();\n    } else {\n      toConsole();\n    }\n  }\n  return (\n    <div className=\"App\">\n      {!showMain && <Top piano={toPiano} console={toConsole} />}\n      {showMain && <Header toTop={toTop} />}\n      {showMain && (\n        <div onClick={handleClick}>\n          {!finShowPiano && <ConsoleMode doRemove={!showConsole} />}\n          <ConsoleTab inConsole={finShowConsole} />\n          {!finShowConsole && <PianoMode doRemove={!showPiano} />}\n          <PianoBase inPiano={finShowPiano} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}