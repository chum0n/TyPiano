(this["webpackJsonpmuda-front"]=this["webpackJsonpmuda-front"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),o=n(53),s=n.n(o),i=(n(59),n(60),n(2)),u=n(19),b=n.n(u),d=n(31),f=n.n(d),j=n(32),h=n(54);function p(e,t){if(r&&!r.ended&&(r.pause(),r.currentTime=0),!(e>=96)){for(var n=11025,a=new Uint8Array(Math.floor(n*t)+100),c="524946460000000057415645666D74201000000001000100112B0000112B0000010008006461746100000000",o=0;o<c.length/2;)a[o]=parseInt(c.substr(2*o,2),16),o+=1;for(var s=Math.floor(e/12),i=6.28/(n/([4180,4428,4708,4968,5264,5592,5884,6300,6676,6988,7476,7848][e%12]/(1<<7-s))),u=0;u<Math.floor(n*t);u++)a[o++]=Math.floor(127*Math.sin(i*u))+128;O(a,4,o-8),O(a,24,n),O(a,40,o-44);for(var b="",d=0;d<o;d++)b+=String.fromCharCode(a[d]);(r=new Audio("data:audio/wav;base64,"+btoa(b))).play()}}function O(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255}var l=function(e,t,n){"do"===e?p(48+12*t,n):"#do"==e?p(49+12*t,n):"re"===e?p(50+12*t,n):"#re"===e?p(51+12*t,n):"mi"===e?p(52+12*t,n):"fa"===e?p(53+12*t,n):"#fa"===e?p(54+12*t,n):"so"===e?p(55+12*t,n):"#so"===e?p(56+12*t,n):"ra"===e?p(57+12*t,n):"#ra"===e?p(58+12*t,n):"shi"===e&&p(59+12*t,n)};var x=function(e,t,n){var r="";return"do"===e?r+="C":"#do"===e?r+="^C":"re"===e?r+="D":"#re"===e?r+="^D":"mi"===e?r+="E":"fa"===e?r+="F":"#fa"===e?r+="^F":"so"===e?r+="G":"#so"===e?r+="^G":"ra"===e?r+="A":"#ra"===e?r+="^A":"shi"===e?r+="B":" "===e?r+="z":e[1],1==t?r=r.toLowerCase():t>1?(r=r.toLowerCase(),r+="'".repeat(t)):t<0&&(r+=",".repeat(-t)),n>0?r+=Math.pow(2,n).toString():n<0&&(r+="1/"+Math.pow(2,-1*n).toString()),console.log(r),r},v=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),s=(o[0],o[1]),u=Object(a.useState)([]),b=Object(i.a)(u,2),d=b[0],p=b[1],O=Object(a.useState)([]),v=Object(i.a)(O,2),w=v[0],k=v[1],m="",g="",y=["do","re","mi","fa","so","ra","shi","#do","#re","#fa","#so","#ra"," "],S=function(e){return new Promise((function(t,n){setTimeout(t,1e3*e)}))};return Object(a.useEffect)((function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(h.a)(f.a.mark((function e(t){var n,a,c,o,i,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==(n=t.keyCode)){e.next=86;break}a=0,c=0,o=0;case 5:if(!(a+1<m.length)){e.next=33;break}if(","!==m[a]){e.next=12;break}return c-=1,a+=1,e.abrupt("continue",5);case 12:if("."!==m[a]){e.next=18;break}return c+=1,a+=1,e.abrupt("continue",5);case 18:if("+"!==m[a]){e.next=24;break}return a+=1,o+=1,e.abrupt("continue",5);case 24:if("-"!==m[a]){e.next=28;break}return a+=1,o-=1,e.abrupt("continue",5);case 28:"sh"===(i=m.substr(a,2))||"#"===i[0]?(i+=m[a+2],a+=3):" "===i[0]?(a+=1,i=" "):a+=2,y.includes(i)?(g+=x(i,c,o),c=0,o=0):a-=1,e.next=5;break;case 33:p((function(e){return[].concat(Object(j.a)(e),[m])})),k((function(e){return[].concat(Object(j.a)(e),[g])})),r(""),s(""),a=0,c=0;case 39:if(!(a+1<m.length)){e.next=82;break}if(","!==m[a]){e.next=46;break}return c-=1,a+=1,e.abrupt("continue",39);case 46:if("."!==m[a]){e.next=52;break}return c+=1,a+=1,e.abrupt("continue",39);case 52:if("+"!==m[a]){e.next=58;break}return a+=1,o+=1,e.abrupt("continue",39);case 58:if("-"!==m[a]){e.next=62;break}return a+=1,o-=1,e.abrupt("continue",39);case 62:if("sh"===(i=m.substr(a,2))||"#"===i[0]?(i+=m[a+2],a+=3):" "===i[0]?(a+=1,i=" "):a+=2,!y.includes(i)){e.next=79;break}if(" "!==i){e.next=70;break}return e.next=68,S(.46875);case 68:e.next=77;break;case 70:return u=60/256,o>0?u*=2*o:o<0&&(u/=-2*o),l(i,c,u),c=0,o=0,e.next=77,S(u);case 77:e.next=80;break;case 79:a-=1;case 80:e.next=39;break;case 82:m="",g="",e.next=87;break;case 86:68===n?r(m+="d"):82===n?r(m+="r"):77===n?r(m+="m"):70===n?r(m+="f"):83===n?r(m+="s"):72===n?r(m+="h"):79===n?r(m+="o"):69===n?r(m+="e"):73===n?r(m+="i"):65===n?r(m+="a"):51===n?r(m+="#"):190===n?r(m+="."):188===n?r(m+=","):32===n?r(m+=" "):187===n?r(m+="+"):189===n&&r(m+="-");case 87:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[d,w]),[n,d,w]},w=n(0),k={backgroundColor:"#041344",color:"#FFFFFF",height:"60vh",paddingRight:20,paddingLeft:20,paddingTop:5,paddingBottom:5,overflowY:"scroll"},m=function(e){var t=e.command,n=e.abc,r=e.i,a="command"+String(r),c="score"+String(r);return b.a.renderAbc(c,n),Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{children:["$ ",t]},a),Object(w.jsx)("div",{id:c},c)]})},g=function(){for(var e=v(),t=Object(i.a)(e,3),n=t[0],r=t[1],a=t[2],c=[],o=0;o<a.length;o++)c.push(Object(w.jsx)(m,{command:r[o],abc:a[o],i:o}));return Object(w.jsx)("div",{children:Object(w.jsxs)("div",{style:k,children:[c,Object(w.jsxs)("p",{id:"command",children:["$ ",n]})]})})},y=n(13),S=function(){var e=Object(a.useState)("none"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),s=o[0],u=o[1],b=Object(a.useState)("none"),d=Object(i.a)(b,2),f=d[0],j=d[1],h=Object(a.useState)(0),p=Object(i.a)(h,2),O=p[0],x=p[1],v=Object(a.useState)(0),w=Object(i.a)(v,2),k=w[0],m=w[1];return Object(a.useEffect)((function(){function e(e){var t=e.keyCode;j("none"),51==t?u(!0):188==t?x(O-1):190==t?x(O+1):68===t?r(s?"#d":"d"):82===t?r(s?"#r":"r"):77===t?r("m"):70===t?r(s?"#f":"f"):83===t?r(s?"#s":"s"):72===t&&"s"===n?r("sh"):79===t&&"d"===n?(m(O),x(0),s?(j("#do"),u(!1)):j("do"),l(f,k,1),r("none")):79===t&&"s"===n?(m(O),x(0),s?(j("#so"),u(!1)):j("so"),l(f,k,1),r("none")):69===t&&"r"===n?(m(O),x(0),s?(j("#re"),u(!1)):j("re"),l(f,k,1),r("none")):73===t&&"m"===n?(m(O),x(0),u(!1),j("mi"),l(f,k,1),r("none")):73===t&&"sh"===n?(m(O),x(0),u(!1),j("shi"),l(f,k,1),r("none")):65===t&&"f"===n?(m(O),x(0),s?(j("#fa"),u(!1)):j("fa"),l(f,k,1),r("none")):65===t&&"r"===n?(m(O),x(0),s?(j("#ra"),u(!1)):j("ra"),l(f,k,1),r("none")):(r("none"),x(0))}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]),[f,k]},C={height:300,width:64,backgroundColor:"#F5FCFF",border:"1px solid black"},F=Object(y.a)(Object(y.a)({},C),{},{backgroundColor:"#adefde"}),E={height:150,width:32,backgroundColor:"black",border:"1px solid black",marginLeft:-16,marginRight:-16,zIndex:1},L=Object(y.a)(Object(y.a)({},E),{},{backgroundColor:"#aaabcb"}),M=function(e){var t=e.nowplay;return Object(w.jsx)("div",{style:t?F:C})},A=function(e){var t=e.nowplay;return Object(w.jsx)("div",{style:t?L:E})},B=function(){for(var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=function(){var e=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},t=Object(a.useState)(e()),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=function(){c(e())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),r}().width/64,o=S(),s=Object(i.a)(o,2),u=s[0],d=s[1],f=[],j=7*Math.floor(c/7/2),h=j+7,p=0;p<c;p++){var O=p>=j&&p<h;switch(p%7){case 0:f.push(Object(w.jsx)(M,{nowplay:!!O&&"do"===u},p)),f.push(Object(w.jsx)(A,{nowplay:!!O&&"#do"===u},p+.5));break;case 1:f.push(Object(w.jsx)(M,{nowplay:!!O&&"re"===u},p)),f.push(Object(w.jsx)(A,{nowplay:!!O&&"#re"===u},p+.5));break;case 2:f.push(Object(w.jsx)(M,{nowplay:!!O&&"mi"===u},p));break;case 3:f.push(Object(w.jsx)(M,{nowplay:!!O&&"fa"===u},p)),f.push(Object(w.jsx)(A,{nowplay:!!O&&"#fa"===u},p+.5));break;case 4:f.push(Object(w.jsx)(M,{nowplay:!!O&&"so"===u},p)),f.push(Object(w.jsx)(A,{nowplay:!!O&&"#so"===u},p+.5));break;case 5:f.push(Object(w.jsx)(M,{nowplay:!!O&&"ra"===u},p)),f.push(Object(w.jsx)(A,{nowplay:!!O&&"#ra"===u},p+.5));break;case 6:f.push(Object(w.jsx)(M,{nowplay:!!O&&"shi"===u},p))}}return Object(a.useEffect)((function(){var e=x(u,d,0);r((function(t){return t+e}))}),[u]),b.a.renderAbc("abc",n),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{id:"abc"}),Object(w.jsx)("div",{style:{display:"flex"},children:f})]})};var T=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(g,{}),Object(w.jsx)(B,{})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,142)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(T,{})}),document.getElementById("root")),z()},59:function(e,t,n){},60:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.d2129ea5.chunk.js.map